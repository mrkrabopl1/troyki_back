"use strict";(self.webpackChunksamura_snikers=self.webpackChunksamura_snikers||[]).push([[1140],{81140:function(e,t,n){n.r(t);var r=n(52020),u=n.n(r),a=n(73324),c=n.n(a),s=n(88546),l=n.n(s),i=n(66775),o=n.n(i),f=n(2201),m=n.n(f),d=n(57445),h=n.n(d),p=n(73126),b=n(95266),g=n(44845),E=n(62079),v=n.n(E),N=n(39290),S=n.n(N),z=n(51791),C=n.n(z),k=n(67294),R=n(89250),Z=n(687),y=n(55498),A=n(54492),O=n(53574),w=n(72027),x=n(82589),M=n(39104),U=n(73370),D=n(80157),I=n(8150),P=n(18853),T=n(25668),j=n(33250),J=n(20802),_=n(31742);function F(e,t){var n=v()(e);if(u()){var r=u()(e);t&&(r=c()(r).call(r,(function(t){return l()(e,t).enumerable}))),n.push.apply(n,r)}return n}console.debug(_.sizes,_.getMerchPrice1);t.default=function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):o()?m()(e,o()(n)):F(Object(n)).forEach((function(t){h()(e,t,l()(n,t))}))}return e}({},(0,x.useAppSelector)((function(e){return e.menuReducer}))),t=(e.shop,(0,R.s0)()),n=(0,x.useAppDispatch)(),r=(0,R.UO)().snickers,u=(0,k.useState)(!0),a=(0,b.Z)(u,2),c=a[0],s=a[1],i=(0,k.useState)({imgs:[],name:"",info:{}}),f=(0,b.Z)(i,2),d=f[0],E=f[1],N=(0,k.useRef)(""),z=(0,k.useRef)(""),W=(0,k.useRef)(""),q=(0,k.useRef)([]),B=(0,x.useAppSelector)((function(e){return e.menuReducer})).cartCount,G=v()(d.info)[0],H=(0,k.useRef)(""),K=(0,k.useState)("ru"),L=(0,b.Z)(K,2),Q=L[0];L[1];console.debug(d);var V=(0,k.useState)(!1),X=(0,b.Z)(V,2),Y=X[0],$=X[1],ee=(0,k.useState)({sizes:{},table:[{table:[],title:""}],comboTable:[{table:[],title:""}]}),te=(0,b.Z)(ee,2),ne=te[0],re=te[1];G&&(H.current=G),(0,k.useEffect)((function(){G&&(H.current=G)}),[d]),(0,k.useEffect)((function(){r&&(0,Z.getMerchInfo)(r,(function(e){!function(e){var t=JSON.parse(e.info),n=null;e.discount&&(n=JSON.parse(e.discount)),S()(t).forEach((function(e){var t,r,u=e[1],a=0;n&&n[e[0]]&&(a=n[e[0]]),"ru"===Q&&(t=_.sizes.sizes.ru[C()(r=_.sizes.sizes.us).call(r,Number(e[0]))]);var c={discount:a,price:u,size:t};q.current.push(c)})),E(e)}(e)}))}),[]),(0,k.useEffect)((function(){(0,Z.getSizeTable)((function(e){re(e)}))}),[]);return k.createElement("div",null,k.createElement("div",{className:j.default.mainWrap},k.createElement("div",{style:{height:"100%",width:"70%"}},k.createElement(D.default,{images:d.imgs})),k.createElement("div",{style:{height:"100%",width:"30%"}},k.createElement(O.default,{text:"размеры",onChange:function(){$(!0)}}),k.createElement("h1",{className:j.default.merchName},d.name),k.createElement("div",null,z.current?k.createElement("span",null,W.current):null,k.createElement("span",null,N.current)),k.createElement(y.default,{onChange:function(e){var t=q.current[e];N.current=t.price-t.discount+"Р",z.current=t.discount,H.current=t.size,W.current=t.price,s(!c)},elems:q.current}),k.createElement(O.default,{text:"Купить",className:j.default.buyMerch,onChange:function(){n((0,U.setSnickers)([{count:1,img:d.imgs[0],firm:d.firm,name:d.name,size:H.current,id:d.id}])),t("/form")}}),k.createElement(O.default,{text:"Добавить в корзину",className:j.default.buyMerch,onChange:function(){var e,t=Number(H.current);"ru"===Q&&(t=ne.sizes.us[C()(e=ne.sizes.ru).call(e,Number(H.current))]);var u=(0,J.getCookie)("cart"),a={id:Number(r),info:{size:String(t)},gashUrl:u};if(u){var c={id:Number(r),info:{size:String(t)},hashUrl:u};(0,T.updatePreorder)(c,(function(){n((0,M.cartCountAction)(B+1))}))}else(0,T.createPreorder)(a,(function(e){Number(r),String(t);(0,J.setCookie)("cart",e.hashUrl,{"max-age":604800}),n((0,M.cartCountAction)(B+1))}))}}),k.createElement(P.default,{className:{main:j.default.doubleInfoDropFirst,second:j.default.doubleInfoDropSecond},info:"ГАРАНТИЯ ЛУЧШЕЙ ЦЕНЫ"},k.createElement("div",null,"Если вы нашли данную модель где-либо в наличии по более низкой цене — пришлите нам ссылку на данную модель в другом магазине. Мы будем рады предложить вам скидку, компенсирующую разницу в стоимости, и лучшую цену относительно конкурентов.NaN"))),k.createElement(I.default,{onChange:$,active:Y},k.createElement(w.default,{className:j.default.scrollStyle},k.createElement(A.default,(0,p.Z)({className:j.default.modalTable},ne))))))}}}]);